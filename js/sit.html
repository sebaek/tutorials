<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }


        .container {
            margin-left: 5%;
            margin-right: 5%;
            display: flex;
            justify-content: space-between;
            flex-direction: row;
        }
        .tab {
            display: flex;
            flex-basis: 48%;
            flex-direction: column;

        }
        .row {
            display: flex;
            flex: 1;
        }

        .cell {
            flex: 1;
        }

        .name {
            line-height: 600%;
        }


     
    </style>
</head>

<body>
    <div class="container">
        <div class="tab">
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab">
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
                <div class="cell">
                    <div class="name w3-card-4 w3-center">
                        <h1>홍길동</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div style="text-align: center;">
    <button id='go-button' class="w3-button w3-jumbo w3-lime w3-center">GO</button> 
    <button id='stop-button' class="w3-button w3-jumbo w3-red w3-center">STOP</button>
    </div>

    <script>
        var numberOfPeople = 9;
        var goButton = document.getElementById('go-button');
        var stopButton = document.getElementById('stop-button');
        goButton.onclick = go;
        stopButton.onclick = stop;
        var nameH1 = document.querySelectorAll('div.name>h1');
        var names = '유재석,유재석,유재석,유재석,유재석,유재석,유재석,유재석,유재석'.split(',');

        var nameNumbers = new Set();
        var sitNumbers = new Set();

        var nameNumber;

        for (i = 0; i < numberOfPeople; i++) {
            nameNumbers.add(i);
            sitNumbers.add(i);
        }

        var runningInterval;
        function go() {
            var sitNumber;
            
            nameNumber = getAndDeleteNext(nameNumbers);

            runningInterval = setInterval(function () {running(nameNumber);}, 90);           
        }
        var timeout;
        function running(num) {
            var sitNumber = getNext(sitNumbers);
            nameH1[sitNumber].innerHTML = names[nameNumber];
            nameH1[sitNumber].parentElement.classList.add('w3-blue');

            timeout = setTimeout( function() {
                clearTimeout(timeout);
                nameH1[sitNumber].innerHTML = '홍길동';
                nameH1[sitNumber].parentElement.classList.remove('w3-blue');
                
            }, 85);
            
        }



        function stop() {
            clearInterval(runningInterval);
            // clearTimeout(timeout);

            var sitNumber;
            sitNumber = getAndDeleteNext(sitNumbers);
            nameH1[sitNumber].innerHTML = names[nameNumber];
            nameH1[sitNumber].parentElement.classList.add('w3-blue');
            
        }

        function getAndDeleteNext(set) {
            var number;
            do {
                number = Math.floor(Math.random() * numberOfPeople);
            } while (!set.has(number));

            set.delete(number);
            return number;
        }

        function getNext(set) {
            var number;
            do {
                number = Math.floor(Math.random() * numberOfPeople);
            } while (!set.has(number));

            return number;
        }


    </script>
</body>

</html>